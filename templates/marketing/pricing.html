{% extends 'base.html' %}
{% load static %}

{% block title %}Pricing - EmailPro{% endblock %}

{% block extra_css %}
<style>
    .plan-card {
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        transition: all 0.2s ease;
        height: 100%;
        display: flex;
        flex-direction: column;
    }
    .plan-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    .plan-card.recommended {
        border-color: #4f46e5;
    }
    .plan-card.recommended .plan-header {
        background-color: #4f46e5;
        color: white;
    }
    .plan-header {
        border-top-left-radius: 0.5rem;
        border-top-right-radius: 0.5rem;
        padding: 1.5rem;
    }
    .plan-features {
        padding: 1.5rem;
        flex-grow: 1;
    }
    .feature-item {
        display: flex;
        align-items: center;
        margin-bottom: 0.75rem;
    }
    .feature-icon {
        color: #4f46e5;
        margin-right: 0.75rem;
    }
    .feature-icon.unavailable {
        color: #d1d5db;
    }
    .plan-footer {
        padding: 1.5rem;
        border-top: 1px solid #e5e7eb;
    }
    .recommended-badge {
        position: absolute;
        top: -12px;
        left: 50%;
        transform: translateX(-50%);
        background-color: #4f46e5;
        color: white;
        font-size: 0.75rem;
        font-weight: 500;
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
    }
    .section-heading {
        text-align: center;
        max-width: 700px;
        margin: 0 auto 3rem auto;
    }
</style>
{% endblock %}

{% block content %}
<div class="container max-w-7xl mx-auto py-12">
    <!-- Header -->
    <div class="section-heading">
        <h1 class="text-4xl font-bold text-gray-900 mb-4">Simple, Transparent Pricing</h1>
        <p class="text-xl text-gray-600">Choose the plan that works best for your business needs.</p>
    </div>

    <!-- Toggle Monthly/Annual (placeholder for future enhancement) -->
    <div class="flex justify-center mb-8">
        <div class="bg-gray-100 p-1 rounded-lg inline-flex">
            <button class="py-2 px-4 bg-white rounded-md shadow-sm font-medium text-gray-800">Monthly</button>
            <button class="py-2 px-4 rounded-md font-medium text-gray-600">Annual (Save 20%)</button>
        </div>
    </div>

    <!-- Pricing Plans -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
        <!-- Free Plan -->
        <div class="relative">
            <div class="plan-card">
                <div class="plan-header bg-gray-50">
                    <h3 class="text-xl font-bold text-gray-800">Free</h3>
                    <div class="mt-2">
                        <span class="text-3xl font-bold text-gray-900">$0</span>
                        <span class="text-gray-500">/month</span>
                    </div>
                </div>
                <div class="plan-features">
                    <ul class="space-y-3">
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> 100 emails per month</li>
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> Basic templates</li>
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> Limited analytics</li>
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> Email support</li>
                        <li class="feature-item"><i class="fas fa-times feature-icon unavailable"></i> A/B testing</li>
                        <li class="feature-item"><i class="fas fa-times feature-icon unavailable"></i> Advanced analytics</li>
                        <li class="feature-item"><i class="fas fa-times feature-icon unavailable"></i> Dedicated support</li>
                    </ul>
                </div>
                <div class="plan-footer">
                    {% if user.is_authenticated %}
                        <a href="{% url 'dashboard' %}" class="w-full px-4 py-2 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 inline-block text-center rounded-md shadow-sm text-sm font-medium">
                            Go to Dashboard
                        </a>
                    {% else %}
                        <a href="{% url 'register' %}" class="w-full px-4 py-2 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 inline-block text-center rounded-md shadow-sm text-sm font-medium">
                            Sign Up Free
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <!-- Premium Plan -->
        <div class="relative">
            <div class="plan-card recommended">
                <div class="recommended-badge">Recommended</div>
                <div class="plan-header bg-indigo-600 text-white">
                    <h3 class="text-xl font-bold">Premium</h3>
                    <div class="mt-2">
                        <span class="text-3xl font-bold">$79</span>
                        <span class="text-indigo-200">/month</span>
                    </div>
                </div>
                <div class="plan-features">
                    <ul class="space-y-3">
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> 20,000 emails per month</li>
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> Advanced email templates</li>
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> Detailed analytics</li>
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> Priority email support</li>
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> A/B testing</li>
                        <li class="feature-item"><i class="fas fa-times feature-icon unavailable"></i> Advanced segmentation</li>
                        <li class="feature-item"><i class="fas fa-times feature-icon unavailable"></i> Dedicated account manager</li>
                    </ul>
                </div>
                <div class="plan-footer">
                    {% if user.is_authenticated %}
                        <a href="{% url 'upgrade_subscription' %}" class="w-full px-4 py-2 border border-transparent bg-indigo-600 hover:bg-indigo-700 text-white inline-block text-center rounded-md shadow-sm text-sm font-medium">
                            Upgrade Now
                        </a>
                    {% else %}
                        <a href="{% url 'register' %}?plan=premium" class="w-full px-4 py-2 border border-transparent bg-indigo-600 hover:bg-indigo-700 text-white inline-block text-center rounded-md shadow-sm text-sm font-medium">
                            Get Started
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Enterprise Plan -->
        <div class="relative">
            <div class="plan-card">
                <div class="plan-header bg-gray-50">
                    <h3 class="text-xl font-bold text-gray-800">Enterprise</h3>
                    <div class="mt-2">
                        <span class="text-3xl font-bold text-gray-900">$199</span>
                        <span class="text-gray-500">/month</span>
                    </div>
                </div>
                <div class="plan-features">
                    <ul class="space-y-3">
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> 100,000 emails per month</li>
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> Premium email templates</li>
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> Advanced analytics & reporting</li>
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> 24/7 priority support</li>
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> Advanced A/B testing</li>
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> Advanced segmentation</li>
                        <li class="feature-item"><i class="fas fa-check feature-icon"></i> Dedicated account manager</li>
                    </ul>
                </div>
                <div class="plan-footer">
                    {% if user.is_authenticated %}
                        <a href="{% url 'upgrade_subscription' %}" class="w-full px-4 py-2 border border-transparent bg-indigo-600 hover:bg-indigo-700 text-white inline-block text-center rounded-md shadow-sm text-sm font-medium">
                            Upgrade Now
                        </a>
                    {% else %}
                        <a href="{% url 'register' %}?plan=enterprise" class="w-full px-4 py-2 border border-transparent bg-indigo-600 hover:bg-indigo-700 text-white inline-block text-center rounded-md shadow-sm text-sm font-medium">
                            Get Started
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- FAQ Section -->
    <div class="max-w-4xl mx-auto mt-16">
        <h2 class="text-2xl font-bold text-gray-900 mb-8 text-center">Frequently Asked Questions</h2>
        
        <div class="space-y-6">
            <div class="bg-white rounded-lg shadow-sm p-6">
                <h3 class="text-lg font-medium text-gray-900 mb-2">Can I upgrade or downgrade my plan at any time?</h3>
                <p class="text-gray-600">Yes, you can change your subscription plan at any time. When upgrading, you'll be billed the prorated amount for the remainder of your billing cycle. When downgrading, the new pricing will take effect at the start of your next billing cycle.</p>
            </div>
            
            <div class="bg-white rounded-lg shadow-sm p-6">
                <h3 class="text-lg font-medium text-gray-900 mb-2">How do you count email sends?</h3>
                <p class="text-gray-600">Each email sent to a recipient counts as one email toward your monthly allowance. If you send an email to 100 subscribers, that counts as 100 emails. Unused emails do not roll over to the next month.</p>
            </div>
            
            <div class="bg-white rounded-lg shadow-sm p-6">
                <h3 class="text-lg font-medium text-gray-900 mb-2">Do you offer refunds?</h3>
                <p class="text-gray-600">We offer a 30-day money-back guarantee for all paid plans. If you're not satisfied with our service within the first 30 days, contact our support team for a full refund.</p>
            </div>
            
            <div class="bg-white rounded-lg shadow-sm p-6">
                <h3 class="text-lg font-medium text-gray-900 mb-2">Do you offer custom plans?</h3>
                <p class="text-gray-600">Yes, if you need more than what our Enterprise plan offers, please <a href="{% url 'contact' %}" class="text-indigo-600 hover:text-indigo-800">contact us</a> to discuss a custom solution tailored to your specific needs.</p>
            </div>
        </div>
    </div>

    <!-- CTA -->
    <div class="mt-16 bg-indigo-700 rounded-xl p-8 text-center text-white">
        <h2 class="text-2xl font-bold mb-4">Ready to grow your business with EmailPro?</h2>
        <p class="mb-6 text-indigo-100 max-w-2xl mx-auto">Join thousands of businesses that use EmailPro to create beautiful emails, engage their audience, and drive more conversions.</p>
        <a href="{% url 'register' %}" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-indigo-700 bg-white hover:bg-indigo-50">
            Start Your Free Trial
        </a>
    </div>
</div>
{% endblock %} 